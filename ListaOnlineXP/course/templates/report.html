{% extends "base_site.html" %}

{% block content_sidebar %}
  <table cellspacing="0">
    <thead><tr>
      <th>Aluno</th>
      {% for exercise_list in exercise_lists %} 
        <th>{{ exercise_list.name|linebreaksbr }}</th>
      {% endfor %}
    </tr></thead>

    <tbody>
    {% for student, solutions in students_report %}
      <tr>
        <th>{{ forloop.counter}}. {{ student }}</th>
        {% for solution in solutions %}
        <th><a href="/answer_student/{{ student.id }}/{{ solution.exercise_list.id}}">
        {% if solution.finalized %}
          {{ solution.score }}
        {% else %}
          Não finalizada
        {% endif %}
        </a></th>
        {% endfor %}
      </tr>

      {% if forloop.last %}
        <tfoot>
          <tr>
            <th>Número de alunos: {{ forloop.counter }}</th>
            {% for exercise_list in exercise_lists %} 
              <th></th>
            {% endfor %}
          </tr>
        </tfoot>
      {% endif %}
      {% endfor %}
    </tbody>
    
  </table>

{% endblock %}
